

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>#!/usr/bin/env bash 和 #!/bin/bash &mdash; Ubuntu GNU/linux 笔记 0.1 documentation</title>
    
    <link rel="stylesheet" href="../b_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../b_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../b_static/jquery.js"></script>
    <script type="text/javascript" src="../b_static/underscore.js"></script>
    <script type="text/javascript" src="../b_static/doctools.js"></script>
    <script type="text/javascript" src="../b_static/sidebar.js"></script>
    <link rel="top" title="Ubuntu GNU/linux 笔记 0.1 documentation" href="../index.html" />
    <link rel="next" title="个人软件仓库" href="arch_custom_repo.html" />
    <link rel="prev" title="谁在用sudo命令" href="bash_sudo_user.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="arch_custom_repo.html" title="个人软件仓库"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="bash_sudo_user.html" title="谁在用sudo命令"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Ubuntu GNU/linux 笔记 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="usr-bin-env-bash-bin-bash">
<h1>#!/usr/bin/env bash 和 #!/bin/bash<a class="headerlink" href="#usr-bin-env-bash-bin-bash" title="Permalink to this headline">¶</a></h1>
<p>脚本第一行中使用 <strong>#!/usr/bin/env bash</strong> 和 <strong>#!/bin/bash</strong> 有什么区别？</p>
<div class="section" id="bashcoreutils">
<h2>bash和coreutils<a class="headerlink" href="#bashcoreutils" title="Permalink to this headline">¶</a></h2>
<p>那首先了解下env和bash的区别。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pacman</span> <span class="o">-</span><span class="n">Qo</span> <span class="n">bash</span>
<span class="go">/bin/bash is owned by bash 4.2.037-1</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pacman</span> <span class="o">-</span><span class="n">Qo</span> <span class="n">env</span>
<span class="go">/usr/bin/env is owned by coreutils 8.17-3</span>
</pre></div>
</div>
<p>从上面可以看出它们分别属于不同的两个软件包。也就意味着他们可能不是同时存在于系统中。</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="k">for </span>cmd in <span class="sb">`</span>pacf coreutils |grep bin | grep -e <span class="s2">&quot;[^/]$&quot;</span>| cut -d<span class="s2">&quot; &quot;</span> -f2 <span class="sb">`</span> ; <span class="k">do</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">cmd</span><span class="p">##*\/</span><span class="k">}</span>
<span class="k">done</span> | tr <span class="s2">&quot;\n&quot;</span> <span class="s2">&quot; &quot;</span>
</pre></div>
</div>
<p>执行上面的脚本可以更清晰的了解到:原来一些常用的命令都是属于coreutils的。对linux来说，这就是必备的。</p>
<div class="highlight-python"><pre>cat chgrp chmod chown cp date dd df echo false ln ls mkdir mknod mv pwd rm rmdir stty su sync true uname [ base64 basename chcon cksum comm csplit cut dir dircolors dirname du env expand expr factor fmt fold head hostid id install join link logname md5sum mkfifo mktemp nice nl nohup nproc od paste pathchk pinky pr printenv printf ptx readlink realpath runcon seq sha1sum sha224sum sha256sum sha384sum sha512sum shred shuf sleep sort split stat stdbuf sum tac tail tee test timeout touch tr truncate tsort tty unexpand uniq unlink users vdir wc who whoami yes chroot</pre>
</div>
<p>说回bash，虽然使用很普遍，但作为shell的一种，却不是必备的。发行版本不一定预装bash。</p>
</div>
<div class="section" id="id1">
<h2>区别<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>如果系统没有装bash，那么两种写法都是一个效果。</p>
<p>两者想比之下 <strong>#!/usr/bin/env bash</strong> 兼容性更好一点，因为它会从路径里区找bash，而不是一个固定位置。</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">#!/usr/bin/env bash 和 #!/bin/bash</a><ul>
<li><a class="reference internal" href="#bashcoreutils">bash和coreutils</a></li>
<li><a class="reference internal" href="#id1">区别</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="bash_sudo_user.html"
                        title="previous chapter">谁在用sudo命令</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="arch_custom_repo.html"
                        title="next chapter">个人软件仓库</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../b_sources/ubuntu/bash_pound_bang_env.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="arch_custom_repo.html" title="个人软件仓库"
             >next</a> |</li>
        <li class="right" >
          <a href="bash_sudo_user.html" title="谁在用sudo命令"
             >previous</a> |</li>
        <li><a href="../index.html">Ubuntu GNU/linux 笔记 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, riptide711.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>